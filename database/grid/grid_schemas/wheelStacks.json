{
  "bsonType": "object",
  "required": [
    "originalPisId",
    "batchNumber",
    "placement",
    "rowPlacement",
    "colPlacement",
    "createdAt",
    "lastChange",
    "lastOrder",
    "maxSize",
    "blocked",
    "wheels",
    "status"
  ],
  "properties": {
    "_id": {
      "bsonType": "objectId",
      "description": "must be an objectId and is required"
    },
    "originalPisId": {
      "bsonType": "string",
      "description": "original id of the wheelstack we got from PIS db"
    },
    "batchNumber": {
      "bsonType": "string",
      "description": "batch number of the WheelStack, we can't have wheels with different batchNumbers inside the one Wheelstack"
    },
    "placement": {
      "bsonType": "string",
      "enum": ["grid", "base"],
      "description": "base placement and wait for movement, or in grid itself"
    },
    "rowPlacement": {
      "bsonType": "string",
      "description": "must be a string and is required"
    },
    "colPlacement": {
      "bsonType": "string",
      "description": "must be a string and is required"
    },
    "createdAt": {
      "bsonType": "date",
      "description": "must be a date and is required"
    },
    "lastChange": {
      "bsonType": "date",
      "description": "must be a date and is required"
    },
    "lastOrder": {
      "bsonType": ["objectId", "null"],
      "description": "`objectId` of the order, of `null` if no orders placed"
    },
    "maxSize": {
      "bsonType": "int",
      "description": "must be an integer and is required",
      "minimum": 1,
      "maximum": 6
    },
    "blocked": {
      "bsonType": "bool",
      "description": "must be a boolean and is required"
    },
    "wheels": {
      "bsonType": "array",
      "items": {
        "bsonType": "string",
        "description": "must be an `wheelId` of the placed `wheel`, not the `objectId`"
      },
      "description": "must be an array of objectIds of the placed `wheel`s and is required",
      "minItems": 0
    },
    "status": {
      "bsonType": "string",
      "enum": ["orderQue", "shipped", "inActive"] ,
      "description": "must be a string and is required"
    }
  },
  "indexes": [
    { "keys": { "rowPlacement": 1 }, "options": { "name": "rowPlacement_index" } },
    { "keys": { "colPlacement": 1 }, "options": { "name": "colPlacement_index" } },
    { "keys": { "createdAt": -1 }, "options": { "name": "createdAt_desc_index" } },
    { "keys": { "lastChange": -1 }, "options": { "name": "lastChange_desc_index" } },
    { "keys": { "lastOrder": 1 }, "options": { "name": "lastOrder_index" } },
    { "keys": { "maxSize": 1 }, "options": { "name": "maxSize_index" } },
    { "keys": { "blocked": 1 }, "options": { "name": "blocked_index" } },
    { "keys": { "wheels": 1 }, "options": { "name": "wheels_index" } },
    { "keys": { "status": 1 }, "options": { "name": "status_index" } },
    { "keys": { "originalPisId" :  1 }, "options":  { "name": "originalPisId" } }
  ]
}
